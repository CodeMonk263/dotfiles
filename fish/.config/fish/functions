# Scale external monitor using XRandR
function scale-right
	argparse --name=scale-right --max-args=1 'd/doubledash' 'n/nodash' -- $argv
	if test _flag_d -gt 0
		xrandr --output eDP-1-1 --auto --output HDMI-1-1 --auto --panning 3840x2160+3840+0 --scale 2x2 --right-of eDP-1-1
	else if test _flag_n -gt 0
		xrandr --output eDP1 --auto --output HDMI1 --auto --panning 3840x2160+3840+0 --scale 2x2 --right-of eDP1
	else
		xrandr --output eDP-1 --auto --output HDMI-1 --auto --panning 3840x2160+3840+0 --scale 2x2 --right-of eDP-1
	end
end
# Stop flickering resulting from XRandR scaling
function stop-flickering
	argparse --name=stop-flickering --max-args=1 'd/doubledash' 'n/nodash' -- $argv
	if test _flag_d -gt 0
		xrandr --output eDP-1-1 --scale 0.9999x0.9999
	else if test _flag_n -gt 0
		xrandr --output eDP1 --scale 0.9999x0.9999
	else
		xrandr --output eDP-1 --scale 0.9999x0.9999
	end
end
# Shortcut used to pipe stuff to X clipboard
function clip
	xclip -sel clip
end
# Shortcut to bin/console for symfony projects
function symfony-console
	if test -e bin/console
		php bin/console $argv
	else
		echo "bin/console not found"
	end
end

# prettify commandline json
function view_json
    cat $argv | json_reformat
end

# Create or attach to Symfony tmux session
function tmux_script
    set SESSIONNAME script
    tmux has-session -t $SESSIONNAME > /dev/null 2> /dev/null
    if test $status -ne 0  
        tmux new-session -s $SESSIONNAME -n script -d
    end
    tmux attach -t $SESSIONNAME
end
